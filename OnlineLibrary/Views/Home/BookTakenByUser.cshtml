@using OnlineLibrary.Models
@{
    ViewBag.Title = "Book Taken By User";
}


<div>
    <h2>Books you took</h2>
    <table width="90%" border="1" align="center">
        <tr>
            <td align="center"><h4>@Html.ActionLink("All books", "Index", "Home")</h4></td>
            <td align="center"><h4>@Html.ActionLink("Book Available", "AvailableBook", "Home")</h4></td>
            @if (User.Identity.IsAuthenticated)
            {
                <td align="center"><h4>Book taken by me</h4></td>
            }
        </tr>
    </table>
    @if (ViewBag.UserLib.Takes != null)
    {
    <table class="table">
        <tr>
            <td><h4>Book name</h4></td>
            <td><h4>Authors</h4></td>
            <td><h4>Details</h4></td>
        </tr>
        @foreach (var b in ViewBag.UserLib.Takes)
        {
            <tr>
                <td><p>@b.Book.Name</p></td>
                <td>
                    @foreach (Author a in b.Book.Authors)
                    { @a.Name <br />}
                </td>
                <td>@Html.ActionLink("View detalis", "Details", new { id = b.Book.Id })</td>
                <td>@Html.ActionLink("Return book", "ReturnBook", new { takeId = b.Id }) </td>
            </tr>
        }
    </table>
    }
    <h3><a href="/Home/AddBook">Add new book.</a></h3>
</div>
